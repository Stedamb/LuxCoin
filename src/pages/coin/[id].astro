---
import MainLayout from '../../layouts/main.astro';
import { coins } from '../../data/coins';
import { CoinCard } from '@/components/CoinCard';

export function getStaticPaths() {
  return coins.map(coin => ({
    params: { id: coin.id.toString() },
    props: { coin },
  }));
}

const { coin } = Astro.props;
---

<MainLayout title={`${coin.name} - LuxCoin`}>
  <section class="py-32">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-12">
        <!-- Coin Image -->
        <div class="bg-stone-800 bg-opacity-80 rounded-sm p-8 flex items-center justify-center">
          <img 
            src={coin.image} 
            alt={coin.name} 
            class="max-w-full max-h-96 object-contain"
          />
        </div>
        
        <!-- Coin Details -->
        <div>
          <h1 class="font-serif text-4xl md:text-5xl text-stone-100 mb-4">{coin.name}</h1>
          <p class="text-stone-400 text-xl mb-6">{coin.period}</p>
          
          <div class="bg-stone-800 bg-opacity-70 p-6 rounded-sm mb-8">
            <h2 class="font-serif text-2xl text-stone-100 mb-4">Descrizione</h2>
            <p class="text-stone-300 text-lg leading-relaxed mb-6">{coin.description}</p>
            
            <div class="border-t border-stone-700 pt-6">
              <div class="flex justify-between items-center">
                <span class="text-stone-300 text-lg">Prezzo</span>
                <span class="text-stone-100 font-serif text-3xl">{coin.price.toLocaleString()}€</span>
              </div>
            </div>
          </div>
          
          <!-- Action Buttons -->
          <div class="flex flex-col sm:flex-row gap-4">
            <button class="bg-amber-800 hover:bg-amber-700 text-stone-100 px-6 py-3 rounded-sm font-serif text-lg uppercase tracking-wide transition-colors flex-1 text-center">
              Aggiungi al Carrello
            </button>
            <a href="/collection" class="border border-stone-600 hover:border-stone-500 text-stone-300 px-6 py-3 rounded-sm font-serif text-lg uppercase tracking-wide transition-colors flex-1 text-center">
              Torna alla Collezione
            </a>
          </div>
        </div>
      </div>
      
      <!-- Additional Information -->
      <div class="max-w-3xl mx-auto mt-16 ">
        <h2 class="font-serif text-3xl text-stone-100 mb-8 text-center">Dettagli Storici</h2>
        
        <div class="bg-stone-800 bg-opacity-70 p-8 rounded-sm">
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="font-serif text-xl text-stone-100 mb-4">Contesto Storico</h3>
              <p class="text-stone-300 leading-relaxed">
                Le monete romane non erano solo un mezzo di scambio, ma anche potenti strumenti di propaganda politica. Gli imperatori utilizzavano le monete per diffondere la propria immagine e i propri messaggi in tutto l'impero, raggiungendo anche i territori più remoti.
              </p>
            </div>
            <div>
              <h3 class="font-serif text-xl text-stone-100 mb-4">Certificato di Autenticità</h3>
              <p class="text-stone-300 leading-relaxed">
                Ogni moneta della nostra collezione viene fornita con un certificato di autenticità dettagliato che ne attesta l'origine, il periodo storico e lo stato di conservazione. Garantiamo l'autenticità di tutti i nostri pezzi.
              </p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Related Coins -->
      <div class="mt-32">
        <h2 class="font-serif text-3xl text-stone-100 mb-8 text-center">Potresti Essere Interessato Anche A</h2>
        <div class="grid md:grid-cols-3 gap-8">
          {coins.filter(relatedCoin => relatedCoin.id !== coin.id).slice(0, 3).map(relatedCoin => (
            <CoinCard coin={relatedCoin} client:load />
          ))}
        </div>
      </div>
    </div>
  </section>
</MainLayout>